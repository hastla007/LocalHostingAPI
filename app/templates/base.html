<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ title or "Local Hosting API" }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <header>
      <h1>
        <a href="{{ url_for('hosting') }}" class="logo">
          <span class="logo-local">LocalHosting</span>
          <span class="logo-api">API</span>
        </a>
      </h1>
      <nav>
        <a href="{{ url_for('hosting') }}" class="{{ 'active' if request.endpoint == 'hosting' else '' }}">Hosting</a>
        <a href="{{ url_for('upload_file_page') }}" class="{{ 'active' if request.endpoint == 'upload_file_page' else '' }}">Upload File</a>
        <a href="{{ url_for('api_docs') }}" class="{{ 'active' if request.endpoint == 'api_docs' else '' }}">API Docs</a>
        <a href="{{ url_for('settings') }}" class="{{ 'active' if request.endpoint == 'settings' else '' }}">Settings</a>
      </nav>
    </header>
    <main>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <ul class="flash-messages">
            {% for category, message in messages %}
              <li class="flash {{ category }}">{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>
    <footer>
      <p>&copy; {{ current_year or now().year }} Local Hosting API</p>
    </footer>
    {% block scripts %}{% endblock %}
  </body>
</html>
